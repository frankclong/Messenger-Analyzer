{% extends 'core/base.html' %}

{% block title %}Analysis{% endblock %}

{% block content %}
    <div class="mt-6 px-6 py-12 bg-gray-100 rounded-xl">
        <h2 class="mb-6 text-3xl text-center">Analysis</h2>

        <div>
            <h3 class="mb-6 mt-6 text-xl font-semibold">General</h3>
            <form method="post" onsubmit="showSpinner()">
                {% csrf_token %}
                {{ general_form.as_p }}
                <button class="mt-6 px-6 py-3 text-lg font-semibold bg-blue-500 text-white rounded-xl hover:bg-blue-700" 
                    type="submit"
                    name="submit_general_form">Generate</button>
            </form>
        </div>

        <div>
            <h3 class="mb-6 mt-6 text-xl font-semibold">Contact</h3>
            <form method="post" onsubmit="showSpinner()">
                {% csrf_token %}
                {{ contact_form.as_p }}
                <button class="mt-6 px-6 py-3 text-lg font-semibold bg-blue-500 text-white rounded-xl hover:bg-blue-700" 
                    type="submit"
                    name="submit_contact_form">Generate</button>
            </form>
        </div>

        <div id="spinner" class="spinner"></div>

        {% if graph %}
        <div style="width:1000;height:100">
            {{ graph|safe }}
        </div>
        {% endif %}

    </div>
{% endblock %}